(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{186:function(e,t,n){"use strict";n.r(t),n.d(t,"FirebaseConfig",function(){return a});var a={apiKey:"AIzaSyDm0ogrb9wL6GxauLEs07cYePsDBHnGI3Y",authDomain:"firedux-netflix-social.firebaseapp.com",databaseURL:"https://firedux-netflix-social.firebaseio.com",projectId:"firedux-netflix-social",storageBucket:"firedux-netflix-social.appspot.com",messagingSenderId:"61345940596"}},195:function(e,t,n){},201:function(e,t,n){},202:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),i=n(70),s=n.n(i),o=n(26),c=n(3),l=n(33),u=(n(180),n(182),n(94)),p=function e(){var t=this;Object(c.a)(this,e),this.doEnableLogging=function(){return l.database.enableLogging(!0)},this.doCreateUserWithEmailAndPassword=function(e,n){return t.auth.createUserWithEmailAndPassword(e,n)},this.doSignInWithEmailAndPassword=function(e,n){return t.auth.signInWithEmailAndPassword(e,n)},this.doSignOut=function(){return t.auth.signOut()},this.currentUser=function(){return t.auth.currentUser},this.doSnapshot=function(e){return t.database.ref(e)},this.doFanOutUpdate=function(e){return t.ref.update(e)},this.getChild=function(e){return t.ref.child(e)},l.initializeApp(u.FirebaseConfig),this.auth=l.auth(),this.database=l.database(),this.ref=l.database().ref()},m=r.a.createContext(null),d=function(e){return function(t){return r.a.createElement(m.Consumer,null,function(n){return r.a.createElement(e,Object.assign({},t,{firebase:n}))})}},h=m,f=p,b=n(31),g=n(95),E=n(55),v=n(14),O={isLoading:!0,metrics:[],userMetrics:{},detailModalVisible:!1},y={userInputs:[],isLoaded:!1,isAuthenticated:!1,displaySignin:!0},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_FORM_INPUT_FIELD":return Object(v.a)({},e,{userInputs:e.userInputs.concat({key:t.key,value:t.value})});case"CHANGE_FORM_INPUT_VALUE":return Object(v.a)({},e,{userInputs:e.userInputs.filter(function(e){return e.key!==t.key}).concat({key:t.key,value:t.value})});case"SUBMIT_FORM_SUCCESS":return Object(v.a)({},y);case"UPDATE_LOAD":return Object(v.a)({},e,{isLoaded:t.bool});case"UPDATE_AUTH":return Object(v.a)({},e,{isAuthenticated:t.bool});case"DISPLAY_SIGNIN":return Object(v.a)({},e,{displaySignin:!e.displaySignin});default:return e}},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_SHOWS_SUCCESS":return Object(v.a)({},e,{isLoading:!1});case"SET_METRICS":return Object.assign({},e,Object(E.a)({},t.key,t.value));case"ADD_SHOW":return Object(v.a)({},e,{metrics:e.metrics.concat({id:t.id,likes:1})});case"ADD_LIKE":return Object(v.a)({},e,{metrics:e.metrics.filter(function(e){return e.id!==t.id}).concat({id:t.id,likes:t.count})});case"SELECT_SHOW":return Object(v.a)({},e,{detailModalVisible:!0,detailData:t.obj});case"DESELECT_SHOW":return Object(v.a)({},e,{detailModalVisible:!1,detailData:""});default:return e}},k=Object(b.c)({showsObj:j,authObj:S}),w=function(){return Object(b.d)(k,{},Object(b.a)(g.a))},C=n(4),N=n(6),A=n(5),I=n(7),x=n(96),D=n(28),_=n(98),L="/",M=n(56),U=function(e){function t(){return Object(c.a)(this,t),Object(N.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(I.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){return r.a.createElement("nav",{className:"main hpx50 bg-dark"},r.a.createElement("a",{href:"/",className:"brand-light off-white"},this.props.brand),this.props.userAuth&&r.a.createElement("ul",{className:"nav-items nav-items-end"},r.a.createElement("li",{className:"li-target"},r.a.createElement("span",{className:"flex-row align-items-center -light"},this.props.userDisplayName," ",r.a.createElement(M.a,null)),r.a.createElement("ul",{className:"li-content"},r.a.createElement("li",null,"Account"),r.a.createElement("li",{onClick:this.props.onSignout},"Sign Out")))))}}]),t}(a.Component),H=function(e){return r.a.createElement("nav",{className:"section hpx50 bg-white shadow-sm"},r.a.createElement("ul",{className:"nav-items nav-items-center"},r.a.createElement("li",{className:"li-target"},r.a.createElement("span",{className:"flex-row align-center"},"Sort ",r.a.createElement(M.a,null)),r.a.createElement("ul",{className:"li-content"},r.a.createElement("li",null,"Recent"),r.a.createElement("li",null,"Popular"))),r.a.createElement("li",{className:"li-target"},r.a.createElement("span",{className:"flex-row align-center"},"Genre ",r.a.createElement(M.a,null)),r.a.createElement("ul",{className:"li-content"},r.a.createElement("li",null,"Drama"),r.a.createElement("li",null,"Comedy")))))},F=n(16),T=function(e){return r.a.createElement("footer",null,r.a.createElement("div",{className:" flex-column  justify-content-center  col-12  col-md-6  col-md-align-items-center-start"},r.a.createElement("span",{className:"copyright"},"@ 2019 Darryl Smith II")),r.a.createElement("div",{className:" flex-column  justify-content-center  col-12  col-md-6  col-md-align-items-center-end"},r.a.createElement("ul",{className:"social"},r.a.createElement("a",{href:"https://twitter.com/_darrylmichael",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(F.e,{size:16})),r.a.createElement("a",{href:"https://www.facebook.com/darrylmsmithii",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(F.c,{size:16})),r.a.createElement("a",{href:"https://github.com/dmsii",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(F.d,{size:16})))))},P=function(e){function t(){return Object(c.a)(this,t),Object(N.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(I.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,this.props.label?r.a.createElement("label",null," ",this.props.label,r.a.createElement("input",Object.assign({className:"form-input"},this.props,{required:!0}))):r.a.createElement("input",Object.assign({className:"form-input"},this.props,{required:!0})))}}]),t}(a.Component),B=function(e){function t(){return Object(c.a)(this,t),Object(N.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(I.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("form",{className:"form-display"},r.a.createElement("span",{className:"flex-column align-items-center pbxs"},r.a.createElement("h3",null,this.props.formHeaderText)),r.a.createElement(P,{name:"email",type:"email",placeholder:"email address",onChange:function(t){return e.props.onChange(t.target.name,t.target.value)}}),r.a.createElement(P,{name:"password",type:"password",placeholder:"password",minlength:"6",onChange:function(t){return e.props.onChange(t.target.name,t.target.value)}}),r.a.createElement("button",{className:"form-action-button",type:"submit",onClick:function(t){return e.props.onFormSubmit(t)}},r.a.createElement("span",null,this.props.formButtonText)))}}]),t}(a.Component),W=function(e){function t(){return Object(c.a)(this,t),Object(N.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(I.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("form",{className:"form-display"},r.a.createElement("span",{className:"flex-column align-items-center pbxs"},r.a.createElement("h3",null,"Log In")),r.a.createElement(P,{name:"email",type:"email",placeholder:"email address",onChange:function(t){return e.props.onChange(t.target.name,t.target.value)}}),r.a.createElement(P,{name:"password",type:"password",placeholder:"password",onChange:function(t){return e.props.onChange(t.target.name,t.target.value)}}),r.a.createElement("button",{className:"form-action-button",type:"submit",onClick:function(t){return e.props.onSignin(t)}},r.a.createElement("span",null,"Sign In")))}}]),t}(a.Component),z=(a.Component,B),R=function(e){function t(){return Object(c.a)(this,t),Object(N.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(I.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"flex-column align-items-center"},r.a.createElement(W,{onChange:this.props.onChange,onSignin:function(t){return e.props.onSignin(t)}}),r.a.createElement("span",{className:"form-footer-link"}," New to BNS?",r.a.createElement("span",{className:"highlight form-footer-link-action",onClick:this.props.onDisplaySignin}," Create an account")))}}]),t}(a.Component),V=function(e){function t(){return Object(c.a)(this,t),Object(N.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(I.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"flex-column align-items-center"},r.a.createElement(z,{formHeaderText:"Create Account",formButtonText:"Sign Up",onChange:this.props.onChange,onFormSubmit:function(t){return e.props.onSignup(t)}}),r.a.createElement("span",{className:"form-footer-link"}," Have an account?",r.a.createElement("span",{className:"highlight form-footer-link-action",onClick:this.props.onDisplaySignin}," Sign In")))}}]),t}(a.Component),G=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(N.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(r)))).displaySigninHandler=function(){n.props.onDisplaySignin()},n.onChangeHandler=function(e,t){void 0===n.props.userInputs.find(function(t){return t.key===e})?n.props.onAddFormInputField(e,t):n.props.onChangeFormInputValue(e,t)},n.signinHandler=function(e){var t=Array.from(document.querySelectorAll("form")).find(function(t){return t.contains(e.target)}),a=n.props.userInputs.find(function(e){return"email"===e.key}),r=n.props.userInputs.find(function(e){return"password"===e.key});void 0!==a&&void 0!==r&&""!==a.value&&""!==r.value&&t.checkValidity()&&(e.preventDefault(),n.props.firebase.doSignInWithEmailAndPassword(a.value,r.value).then(function(){return n.props.onSubmitFormSuccess()}).then(function(){return n.props.history.push(L)}).catch(function(e){return console.log(e)}))},n.signupHandler=function(e){var t=Array.from(document.querySelectorAll("form")).find(function(t){return t.contains(e.target)}),a=n.props.userInputs.find(function(e){return"email"===e.key}),r=n.props.userInputs.find(function(e){return"password"===e.key});void 0!==a&&void 0!==r&&""!==a.value&&""!==r.value&&t.checkValidity()&&(e.preventDefault(),n.props.firebase.doCreateUserWithEmailAndPassword(a.value,r.value).then(function(){return n.props.onSubmitFormSuccess()}).then(function(){return n.props.history.push(L)}).catch(function(e){return console.log(e)}))},n}return Object(I.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){var e=this.props.displaySignin;return r.a.createElement("div",{className:"single-page-orientaion-center"},e?r.a.createElement(R,{onDisplaySignin:this.displaySigninHandler,onChange:this.onChangeHandler,onSignin:this.signinHandler}):r.a.createElement(V,{onDisplaySignin:this.displaySigninHandler,onChange:this.onChangeHandler,onSignup:this.signupHandler}))}}]),t}(a.Component);G=d(G);var K=Object(o.b)(function(e){return{userInputs:e.authObj.userInputs,displaySignin:e.authObj.displaySignin}},function(e){return{onDisplaySignin:function(){return e({type:"DISPLAY_SIGNIN"})},onAddFormInputField:function(t,n){return e(function(e,t){return{type:"ADD_FORM_INPUT_FIELD",key:e,value:t}}(t,n))},onChangeFormInputValue:function(t,n){return e(function(e,t){return{type:"CHANGE_FORM_INPUT_VALUE",key:e,value:t}}(t,n))},onSubmitFormSuccess:function(){return e({type:"SUBMIT_FORM_SUCCESS"})}}})(G),q={series:"https://unogs-unogs-v1.p.rapidapi.com/aaapi.cgi?q=''-!1900,2019-!0,5-!0,10-!0-!Series-!Any-!Any-!gt1-!{downloadable}&t=ns&cl=78&st=adv&ob=Relevance&p=1&sa=and"},J={headers:{"Content-Type":"application/json","X-RapidAPI-HOST":"unogs-unogs-v1.p.rapidapi.com","X-RapidAPI-KEY":"9fd6f06704mshf8464cc64fe8617p18526djsna6f1bae860d4"}},Y=function(e){function t(){return Object(c.a)(this,t),Object(N.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(I.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"social-options-display"},r.a.createElement("button",{className:"button"},r.a.createElement(F.f,{style:{fontSize:18,color:"rgba(170, 170, 170, .9)"}}),r.a.createElement("p",{className:"ml2",style:{fontFamily:"Work Sans",fontSize:13,color:"rgba(170, 170, 170, .8)"}},this.props.numViews)),r.a.createElement("button",{className:"button"},r.a.createElement(F.g,{style:{fontSize:14,color:"rgba(170, 170, 170, .9)"}}),r.a.createElement("p",{className:"ml2",style:{fontFamily:"Work Sans",fontSize:13,color:"rgba(170, 170, 170, .8)"}},this.props.numLikes)),r.a.createElement("button",{className:"button"},r.a.createElement(F.b,{style:{fontSize:15,color:"rgba(170, 170, 170, .9)"}}),r.a.createElement("p",{className:"ml2",style:{fontFamily:"Work Sans",fontSize:13,color:"rgba(170, 170, 170, .8)"}},this.props.numComments)),r.a.createElement("div",{className:"icon-group-right"},r.a.createElement("button",{className:"button"},r.a.createElement(F.h,{style:{fontSize:13,color:"rgba(170, 170, 170, .9)"}}))))}}]),t}(a.Component),X=function(e){function t(){return Object(c.a)(this,t),Object(N.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(I.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("img",{src:this.props.image,alt:this.props.synopsis}),r.a.createElement(Y,{numViews:this.props.socialViews,numLikes:this.props.socialLikes,numComments:this.props.socialComments}))}}]),t}(a.Component),$=function(e){function t(){return Object(c.a)(this,t),Object(N.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(I.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){var e=this,t=function(t){return e.props.vanityItems.find(function(e){return e.id===t})},n=JSON.parse(this.props.dataSource).map(function(n,a){return r.a.createElement("span",{key:a},r.a.createElement("div",{className:"card"},r.a.createElement("span",{className:"card-overlay",onClick:function(){return e.props.showDisplaySelected(n.netflixid)}}),r.a.createElement(X,{image:n.image,socialViews:void 0!==t(n.netflixid)&&void 0!==t(n.netflixid).views?t(n.netflixid).views:0,socialLikes:void 0!==t(n.netflixid)&&void 0!==t(n.netflixid).likes?t(n.netflixid).likes:0,socialComments:void 0!==t(n.netflixid)&&void 0!==t(n.netflixid).comments?t(n.netflixid).comments:0})))});return r.a.createElement("figure",null,r.a.createElement("figcaption",null,n))}}]),t}(a.Component),Q=n(72),Z=n.n(Q),ee=function(e){function t(){return Object(c.a)(this,t),Object(N.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(I.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){return r.a.createElement("button",{className:"button",onClick:this.props.closeButtonSelected},r.a.createElement(F.a,{size:this.props.size}))}}]),t}(a.Component),te=function(e){function t(){return Object(c.a)(this,t),Object(N.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(I.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){var e,t=this;return r.a.createElement("button",{className:"button-social-stack-md",style:{backgroundColor:(e=this.props.buttonKey,void 0!==t.props.buttonIds.find(function(t){return t===e})?"rgba(0, 150, 204, .25)":"white")},onClick:function(){return t.props.buttonSelected(t.props.buttonKey)}},r.a.createElement("span",null,r.a.createElement(F.g,null)),r.a.createElement("span",null,r.a.createElement("pre",null,"Like")))}}]),t}(a.Component),ne=ee,ae=function(e){function t(){return Object(c.a)(this,t),Object(N.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(I.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){var e=this.props.dataSource;return r.a.createElement("header",{className:"flex-column justify-content-center hpx150 pxsm bg-off-white"},r.a.createElement("span",{className:"close-button-display"},r.a.createElement(ne,{size:this.props.closeButtonSize,closeButtonSelected:this.props.closeButtonSelected})),r.a.createElement("h3",null,e.title),r.a.createElement("h3",{className:"sub-heading"},"in ",e.type),r.a.createElement(te,{buttonKey:e.netflixid,buttonSelected:this.props.buttonSelected,buttonIds:this.props.userMetrics.likes}))}}]),t}(a.Component),re=function(e){function t(){return Object(c.a)(this,t),Object(N.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(I.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){var e=this.props.dataSource;return r.a.createElement("div",{className:"container-fluid no-gutters"},r.a.createElement(ae,{userMetrics:this.props.userMetrics,dataSource:e,buttonSelected:this.props.buttonSelected,closeButtonSize:this.props.closeButtonSize,closeButtonSelected:this.props.closeButtonSelected}),r.a.createElement("section",{className:"container pylg"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-12 col-sm-5 flex-column align-items-center pxxs"},r.a.createElement("img",{src:e.image,alt:e.synopsis,width:"100%",height:"90%"})),r.a.createElement("div",{className:"col-12 col-sm-7 pxsm"},r.a.createElement("article",null,r.a.createElement("p",{className:"desc-lg"},e.synopsis))))))}}]),t}(a.Component);n(195);Z.a.setAppElement("#root");var ie=function(e){function t(){return Object(c.a)(this,t),Object(N.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(I.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){return r.a.createElement(Z.a,{overlayClassName:"React__Modal__Overlay",className:"React__Modal__Content",isOpen:this.props.modalVisible},r.a.createElement(re,{userMetrics:this.props.userMetrics,dataSource:this.props.dataSource,buttonSelected:this.props.buttonSelected,closeButtonSize:this.props.closeButtonSize,closeButtonSelected:this.props.closeButtonSelected}))}}]),t}(a.Component),se=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(N.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(r)))).fetchHandler=function(){return fetch(q.series,{headers:J.headers}).then(function(e){return e.json()}).then(function(e){return localStorage.setItem(q.series,JSON.stringify(e.ITEMS))}).then(function(){return n.props.onFetchShowsSuccess()}).catch(function(e){console.error(e)})},n.checkStorage=function(e){return null===localStorage.getItem(e)?Promise.resolve(n.setMetrics()).then(function(){return n.fetchHandler()}):Promise.resolve(n.setMetrics()).then(function(){return n.props.onFetchShowsSuccess()})},n.setMetrics=function(){var e=n.props.firebase.currentUser().uid,t=[],a={likes:[],views:[],comments:[]};return n.props.firebase.database.ref("shows").once("value").then(function(r){r.forEach(function(n){t.push({id:n.key,likes:n.val().metrics.likes.count}),void 0!==n.val().metrics.likes.users&&void 0!==n.val().metrics.likes.users[e]&&!0===n.val().metrics.likes.users[e]&&a.likes.push(n.key)}),Promise.resolve(n.props.onSetMetrics("metrics",t)).then(function(){return n.props.onSetMetrics("userMetrics",a)})})},n.likeAddedHandler=function(e){var t=n.props.firebase.currentUser().uid,a=n.props.firebase.database.ref("shows/".concat(e)),r={likes:{count:{},users:{}}},i=n.props.userMetrics,s={};return a.once("value").then(function(a){var o=a.val();return null!==o&&void 0!==o.metrics.likes.users?void 0!==o.metrics.likes.users[t]?(r.likes.count=o.metrics.likes.count-1,r.likes.users=o.metrics.likes.users,r.likes.users[t]=null,i.likes=i.likes.filter(function(t){return t!==e})):(r.likes.count=o.metrics.likes.count+1,r.likes.users=o.metrics.likes.users,r.likes.users[t]=!0,i.likes.push(e)):(r.likes.count=1,r.likes.users[t]=!0,i.likes.push(e)),s["shows/".concat(e)]={metrics:r},n.props.firebase.doFanOutUpdate(s).then(function(){return n.props.onSetMetrics("userMetrics",i)}).then(function(){return n.props.onAddLike(e,r.likes.count)})})},n.showSelectedHandler=function(e){var t=JSON.parse(localStorage.getItem(q.series)).find(function(t){return t.netflixid===e});n.props.onSelectShow(t)},n}return Object(I.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){this.checkStorage(q.series)}},{key:"render",value:function(){return this.props.isLoading?r.a.createElement("div",{className:"loading-page"},r.a.createElement("h1",null,"Loading...")):r.a.createElement("div",{className:" flex-column align-items-center mt50 "},r.a.createElement(H,null),r.a.createElement($,{firebase:this.props.firebase,dataSource:localStorage.getItem(q.series),showDisplaySelected:this.showSelectedHandler,vanityItems:this.props.metrics}),r.a.createElement(ie,{dataSource:this.props.detailData,userMetrics:this.props.userMetrics,modalVisible:this.props.detailModalVisible,buttonSelected:this.likeAddedHandler,closeButtonSize:50,closeButtonSelected:this.props.onDeselectShow}))}}]),t}(a.Component);se=d(se);var oe=Object(o.b)(function(e){return{isLoading:e.showsObj.isLoading,metrics:e.showsObj.metrics,userMetrics:e.showsObj.userMetrics,detailModalVisible:e.showsObj.detailModalVisible,detailData:e.showsObj.detailData}},function(e){return{onFetchShowsSuccess:function(){return e({type:"FETCH_SHOWS_SUCCESS"})},onSetMetrics:function(t,n){return e(function(e,t){return{type:"SET_METRICS",key:e,value:t}}(t,n))},onAddShow:function(t){return e(function(e){return{type:"ADD_SHOW",id:e}}(t))},onAddLike:function(t,n){return e(function(e,t){return{type:"ADD_LIKE",id:e,count:t}}(t,n))},onSelectShow:function(t){return e(function(e){return{type:"SELECT_SHOW",obj:e}}(t))},onDeselectShow:function(){return e({type:"DESELECT_SHOW"})}}})(se),ce=function(e){function t(){return Object(c.a)(this,t),Object(N.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(I.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){return r.a.createElement(oe,null)}}]),t}(a.Component),le=function(e){function t(){return Object(c.a)(this,t),Object(N.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(I.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){this.authenticate()}},{key:"authenticate",value:function(){var e=this;this.props.firebase.auth.onAuthStateChanged(function(t){return new Promise(function(e,n){t?e(t):n(new Error("No User Signed in"))}).then(function(){return e.props.onUpdateAuth(!0)}).then(function(){return e.props.onUpdateLoad(!0)}).catch(function(t){console.log(t),e.props.history.push("/auth")})})}},{key:"render",value:function(){var e=this.props,t=e.isLoaded,n=e.isAuthenticated,a=e.component,i=Object(x.a)(e,["isLoaded","isAuthenticated","component"]);return t?r.a.createElement(D.b,Object.assign({},i,{render:function(e){return n?r.a.createElement(a,e):r.a.createElement(D.a,{to:"/auth"})}})):null}}]),t}(a.Component),ue=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(N.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(r)))).signoutHandler=function(){Promise.resolve(n.props.onUpdateAuth(!1)).then(function(){return n.props.firebase.doSignOut()})},n}return Object(I.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(U,{brand:"BNS",userAuth:this.props.isAuthenticated,userDisplayName:this.props.isAuthenticated&&this.props.firebase.currentUser().email,onSignout:this.signoutHandler}),r.a.createElement(_.a,null,r.a.createElement(D.d,null,r.a.createElement(D.b,{path:"/auth",component:K}),r.a.createElement(le,Object.assign({},this.props,{path:L,component:ce})))),r.a.createElement(T,null))}}]),t}(a.Component);le=Object(D.f)(le),ue=d(ue);var pe=Object(o.b)(function(e){return{isLoaded:e.authObj.isLoaded,isAuthenticated:e.authObj.isAuthenticated}},function(e){return{onUpdateLoad:function(t){return e(function(e){return{type:"UPDATE_LOAD",bool:e}}(t))},onUpdateAuth:function(t){return e(function(e){return{type:"UPDATE_AUTH",bool:e}}(t))}}})(ue),me=(n(201),function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(N.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(r)))).signoutHandler=function(){n.props.firebase.doSignOut()},n}return Object(I.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){return r.a.createElement(pe,null)}}]),t}(a.Component)),de=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function he(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var fe=w();s.a.render(r.a.createElement(h.Provider,{value:new f},r.a.createElement(o.a,{store:fe},r.a.createElement(me,null))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/bns",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/bns","/service-worker.js");de?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):he(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):he(t,e)})}}()},94:function(e,t,n){e.exports=n(186)},99:function(e,t,n){e.exports=n(202)}},[[99,1,2]]]);
//# sourceMappingURL=main.8afbcbf9.chunk.js.map